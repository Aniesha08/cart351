<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
   <title>JSON LOAD EX</title>
<link href="https://fonts.googleapis.com/css?family=Roboto:300,400,500" rel="stylesheet">
  <script src = "jquery/jquery-3.3.1.min.js"></script>
   <script>
   $(document).ready(function(){
   // let header = $('header');
   let section = $('section');
  // let loaded=false;

   $("#getData").click(function(event){

     //SABINE::
     //empty out previous result
     $("section").empty();
     //SABINE:: we want to allow for user to reclick...
     //if(loaded ===false){
          console.log("clicked");
          $.getJSON('info.json', function(data) {
          //success
            //step 1: console.log the result
            console.log(data);
            //set boolean to true
            loaded=true;
            //step 2: display the data ....
            showApps(data);
          })
          //fail
          .fail(function() {
            console.log( "error" );
          });
      //  }
        //else{
          //console.log("data was loaded");
        //}
    });


// display the results
    function showApps(data){
    // our array of each book objects
    let apps = data['Apps'];

    // SABINE: search item is JUST the value from the input field ..
    let searchItem = $("#searchDay").val();
    //let searchItem = $("#searchDay").val(apps[i].Day);



//SABINE:: not here ...
    //if (searchItem == "Monday"){

    for (var i = 0; i < apps.length; i++) {
      //SABINE:: here:: test if the search item that user input is the same as that
      //object property in the array
      if(searchItem ===apps[i].Day){
        console.log("in day"+apps[i].Day);

      // variables to create a selector
      let showDayInfo = $('<article>');

      let weekDay = $("<h3>");
      let instagram = $("<p>").addClass("insta division");
      let duration1 = $("<p>");
      let percentage1 = $("<p>");

      let snapchat = $("<p>").addClass("snapchat division");
      let duration2 = $("<p>");
      let percentage2 = $("<p>");

      let whatsapp = $("<p>").addClass("whatsapp division");
      let duration3 = $("<p>");
      let percentage3 = $("<p>");

      let messenger = $("<p>").addClass("messenger division");
      let duration4 = $("<p>");
      let percentage4 = $("<p>");

      // tells us which text to pick up from data
      $(weekDay).text("Displaying "+apps[i].Day+" results");
      $(instagram).text(apps[i].Instagram);
      $(duration1).text(apps[i].Duration1);
      $(percentage1).text(apps[i].Percentage1);

      $(snapchat).text(apps[i].Snapchat);
      $(duration2).text(apps[i].Duration2);
      $(percentage2).text(apps[i].Percentage2);

      $(whatsapp).text(apps[i].Whatsapp);
      $(duration3).text(apps[i].Duration3);
      $(percentage3).text(apps[i].Percentage3);

      $(messenger).text(apps[i].Messenger);
      $(duration4).text(apps[i].Duration4);
      $(percentage4).text(apps[i].Percentage4);

      // display the data in the html document
      $(weekDay).appendTo(showDayInfo);
      $(instagram).appendTo(showDayInfo);
      $(duration1).appendTo(showDayInfo);
      $(percentage1).appendTo(showDayInfo);

      $(snapchat).appendTo(showDayInfo);
      $(duration2).appendTo(showDayInfo);
      $(percentage2).appendTo(showDayInfo);

      $(whatsapp).appendTo(showDayInfo);
      $(duration3).appendTo(showDayInfo);
      $(percentage3).appendTo(showDayInfo);

      $(messenger).appendTo(showDayInfo);
      $(duration4).appendTo(showDayInfo);
      $(percentage4).appendTo(showDayInfo);

      $(section).append(showDayInfo);
    } // if statement closing

    // alert if person typed Saturday or Sunday.
    else if ($("#searchDay").val() === "Saturday"){
      alert('No results available. Please type a day between Monday to Friday only.');
    }
    else if ($("#searchDay").val() === "Sunday"){
      alert('No results available. Please type a day between Monday to Friday only.');
    }
  } // for loop closing
  }//function
 });

   </script>
  </head>

  <style>

html {
  font-family: 'helvetica neue', helvetica, arial, sans-serif;
}

body {
  width: 100%;
  background-color: black;
}
/* header styles */

 h1 {
  text-align: center;
  color: #ffffff;
  font-family: 'Roboto', sans-serif;
  margin-top: 4%;
}

h3{color: #ffffff;
font-family: 'Roboto', sans-serif;
font-style: italic;
font-weight: 300;}

header p{
  text-align: center;
  margin-left:auto;
  margin-right: auto;
  color: white;
  width: 50%;
  font-family: 'Roboto', sans-serif;
  font-weight: 300;
  margin-bottom: 3%;
  line-height: 24px;
}

section{
  margin-left:25vw;
}

/* section styles */

section article {
  width: 65%;
  margin-bottom:2%;
  color: white;
}

section p {
  font-size:1em;
  font-family: 'Roboto', sans-serif;
  font-weight: 300;
}

section ul {
  margin-top: 0;
  font-size:1em;
}

h2 {
  font-size: 2.5rem;
  letter-spacing: -5px;
  margin-bottom: 10px;
}

input#searchDay{
  font-style: italic;
  color: grey;
  width: 200px;
  height: 25px;
  border: none;
}
#getData{
  background:#8bc34a;
  color: white;
  font-weight: bold;
  width:100px;
  height:30px;
  border: none;
  border-radius: 5px;
  margin:1%;
}

#button {text-align:center;}

.hero-img{display:block;
margin-left: auto;
margin-right: auto;
width: 60%;}

.division{
  margin-top: 5%;
  border-bottom: 1px solid white;
}

.insta{color: #d30067;
font-weight: bold;}

.snapchat{color: #ffeb3b;
font-weight: bold;}

.whatsapp{color: #8bc34a;
font-weight: bold;}

.messenger{color: #03a9f4;
font-weight: bold;}

  </style>

  <body>
      <header>
      <h1>Social Media Usage</h1>
      <p>The use of social media apps have started to become an essential part of contributing into our social lives.
       I have spent the past 4 days monitoring how long I spend on social media per day. The duration time involves
      the time I have spent social media browsing & chatting. The percentage is how much total usage it took up
     out of all the other apps I have used during that specific day.</p>
      </header>

      <img class="hero-img" src="https://hybrid.concordia.ca/A_ANGA/exercises/AnieshaS_Jquery_EX/imgs/mobile.jpeg" alt="iPhone" />
      <br />
      <div id="button">
      <input type="text" id="searchDay" value=" Search Day" />
      <input type="button" id="getData" value="SUBMIT" />
      </div>

      <section>

      </section>


  </body>
</html>
